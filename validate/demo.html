<!DOCTYPE html>
<html>
<head>
	<title>demo</title>
	<script type="text/javascript" src="http://apps.bdimg.com/libs/jquery/2.1.4/jquery.js"></script>
	<script type="text/javascript" src="http://ajax.aspnetcdn.com/ajax/jquery.validate/1.14.0/jquery.validate.js"></script>
</head>
<body>

<form>
<!-- 	<div class="box">
		11111111111
		<input name="sort1" value="1" data-validate="required" data-message-required="必填字段1">
		<button>保存</button>
	</div>
	<div class="box">
		22222222222
		<input name="sort2" value="2" data-validate="required" data-message-required="必填字段2">
		<button>保存</button>
	</div> -->
	<input name="sort1" type="text" range="[1, 9]" required>
	<input name="sort2" type="text" range="[1, 9]" required>
</form>
<script type="text/javascript">
var $form = $('form');
$form.validate();
/*	var $form = $('form');
	var opts = {
		rules: {},
		messages: {},
        debug: true
	};
    $fields = $form.find('[data-validate]');
    console.log($fields);

    $fields.each(function(i, el) {
    	var $field = $(el),
    		name = $field.attr('name'),
            validate = attrDefault($field, 'validate', '').toString(),
            _validate = validate.split(',');

            for (var k in _validate) {
                var rule = _validate[k],
                    params,
                    message;

                if (typeof opts['rules'][name] == 'undefined') {
                    opts['rules'][name] = {};
                    opts['messages'][name] = {};
                }

                if ($.inArray(rule, ['required', 'url', 'email', 'number', 'date', 'creditcard']) != -1) {
                    opts['rules'][name][rule] = true;

                    message = $field.data('message-' + rule);

                    if (message) {
                        opts['messages'][name][rule] = message;
                    }
                }
                // Parameter Value (#1 parameter)
                else if (params = rule.match(/(\w+)\[(.*?)\]/i)) {
                    if ($.inArray(params[1], ['min', 'max', 'minlength', 'maxlength', 'equalTo']) != -1) {
                        opts['rules'][name][params[1]] = params[2];


                        message = $field.data('message-' + params[1]);

                        if (message) {
                            opts['messages'][name][params[1]] = message;
                        }
                    }
                }
            }
    });
	
	console.log(opts);
	$form.validate(opts);

	function attrDefault($el, data_var, default_val) {
	    if (typeof $el.data(data_var) != 'undefined') {
	        return $el.data(data_var);
	    }
	    return default_val;
	}*/
</script>

</body>
</html>