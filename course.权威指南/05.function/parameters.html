<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <title>参数</title>
</head>

<body>
<script>
    'use strict';
    function getPropertyNames(o, /* optional */ a) {
        if (a === undefined) a = [];
        for (var property in o) a.push(property);
        return a;
    }
    var o = {
        x: 1,
        y: 2,
        z: 3
    };
    var a = getPropertyNames(o);
    console.log(a); // ["x", "y", "z"]
    var b = getPropertyNames(o, a);
    console.log(b); // ["x", "y", "z", "x", "y", "z"]

    console.info('可变长的实参列表：实参对象');
    function max(/* ... */) {
        var max = Number.NEGATIVE_INFINITY;
        for (var i = 0; i < arguments.length; i++) {
            if (arguments[i] > max) max = arguments[i];
        }
        return max;
    }
    var largest = max(1, 10, 100, 2, 3, 1000, 4, 5, 10000, 6);
    console.log(largest); // 10000

    function f(x) {
        // 'use strict'
        //  1
        console.log(x);
        arguments[0] = null;
        // 'use strict' 1,
        // null
        console.log(x);
    }
    f(1);

    var factorial1 = function(x) {
        if (x <= 1) return 1;
        // Uncaught TypeError: 'caller', 'callee', and 'arguments' properties may not be accessed on strict mode functions or the arguments objects for calls to them
        // return x * arguments.callee(x - 1);
    }
    factorial1(5);

    console.info('自定义函数属性');
    uniqueInteger.counter = 0;
    function uniqueInteger(){
        return uniqueInteger.counter++;
    }
    console.log(uniqueInteger()); // 0
    console.log(uniqueInteger());   // 1

    function factorial(n){
        if (isFinite(n) && n>0 && n==Math.round(n)) {
            if (!(n in factorial)) factorial[n] = n * factorial(n-1);
            return factorial[n];
        } else {
            return NaN; // 如果输入有误
        }
    }
    factorial[1] = 1; // 初始化缓存以保存这种基本情况
    console.log(factorial(10)); // 3628800
</script>
</body>

</html>
