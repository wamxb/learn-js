<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
    <script src="http://cdnjs.cloudflare.com/ajax/libs/vue/1.0.10/vue.js"></script>
</head>
<body>
<div id="demo">
    <my-component msg="A custom component!"></my-component>
</div>
<div id="demo1">
    <my-component1></my-component1>
</div>
<div id="demo2">
    <Parent></Parent>
</div>

<!-- ----------------------- 动态props /S ------------------------------------------------ -->
<div id="demo3">
    <input v-model="parentMsg">
    <br>
    <my-component3 :my-message="parentMsg"></my-component3>
</div>
<!-- ----------------------- 动态props /E ------------------------------------------------ -->
<!-- ----------------------- prop验证 /S ------------------------------------------------ -->
<div id="demo4">
    <component4 :prop-a="1" prop-b="fasdfdjsl"></component4>
</div>
<!-- ----------------------- prop验证 /E ------------------------------------------------ -->
<script type="text/javascript">
    var MyComponent = Vue.extend({
        // props传递数据
        props: ['msg'],
        template: '<div>{{msg}}</div>'
    });

    Vue.component('my-component', MyComponent);

    var vm = new Vue({
        el: '#demo'
    });

    // 注册语法糖
    Vue.component('my-component1', {
        template: '<div>this is custom component 1</div>'
    });

    var vm1 = new Vue({
        el: '#demo1'
    });

    // 局部注册
    var Child = Vue.extend({
        template: 'custom Child component!'
    });
    var Parent = Vue.extend({
        template: '<div>fdfadsafd  ' +
        '<my-component2></my-component2></div>',
        components: {
            // 只能在组件内使用
            'my-component2': Child
        }
    });

    Vue.component('Parent', Parent);
    var vm2 = new Vue({
        el: '#demo2'
    });

    /**
     * 动态props
     */
    new Vue({
        el: '#demo3',
        data: {
            parentMsg: 'Message from parent'
        },
        components: {
            'my-component3': {
                props: ['myMessage'],
                template: '<span>{{myMessage}}</span>'
            }
        }
    });

    /**
     * prop验证
     */
    new Vue({
        el: '#demo4',
        data: {
            propA: 'Message from parent A',
            propB: 'Message from parent B'
        },
        components: {
            'component4': {
                props: {
                    propA: Number,
                    propB: {
                        type: String,
                         required: true
                    },
                    propC: {
                        type: Number,
                        default: 100
                    },
                    propD: {
                        type: Object,
                        default: function () {
                            return {msg: 'hello'}
                        }
                    },
                    propE: {
                        twoWay: true
                    },
                    propF: {
                        validator: function (value) {
                            return value > 10
                        }
                    }
                },
                template: '<span>{{propA}}</span><b>{{propB}}</b>'
            }
        }
    });
</script>
</body>
</html>