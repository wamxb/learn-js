<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>components2</title>
    <script src="http://cdnjs.cloudflare.com/ajax/libs/vue/1.0.13/vue.js"></script>
</head>
<body>
<!-- ----------------------- example1 /S ------------------------------------------------ -->
<div id="example1">
    <input v-model="parentMsg"/>
    <br>
    <child :my-msg="parentMsg"></child>
</div>
<script type="text/javascript">
    var vm1 = new Vue({
        el: '#example1',
        data: {
            parentMsg: 'initMsg...'
        },
        components: {
            child: {
                props: ['myMsg'],
                template: '<span>{{myMsg}}</span>'
            }
        }
    });
</script>
<!-- ----------------------- example1 /E ------------------------------------------------ -->
<hr>
<!-- ----------------------- example2 /S ------------------------------------------------ -->
<div id="example2">
    <h1>双向绑定</h1>
    <input v-model="parentMsg"/>
    <child :msg.sync="parentMsg"></child>
</div>
<script type="text/javascript">
    var vm2 = new Vue({
        el: '#example2',
        data: {
            parentMsg: 'initMsg...'
        },
        components: {
            child: {
                props: ['msg'],
                template: '<input v-model="msg"/>'
            }
        }
    });
</script>
<!-- ----------------------- example2 /E ------------------------------------------------ -->
<hr>
<!-- ----------------------- example3 /S ------------------------------------------------ -->
<div id="example3">
    a:<input type="text" v-model="a"/><br>
    b:<input type="text" v-model="b"/><br>
    c:<input type="text" v-model="c"/><br>
    d:<input type="text" v-model="d"/><br>
    e:<input type="text" v-model="e"/><br>
    f:<input type="text" v-model="f"/><br>
    <child :prop-a="a" :prop-b="b" :prop-c="c" :prop-d="d" :prop-e.sync="e" :prop-f="f"></child>
</div>
<script type="text/javascript">
    var vm3 = new Vue({
        el: '#example3',
        data: {
            a: 1,
            b: 'string',
            c: 11,
            d: {
                msg: 1
            },
            e: 'twoWay',
            f: 11
        },
        components: {
            child: {
                props: {
                    propA: Number,
                    propB: {
                        type: String,
                        required: true
                    },
                    propC: {
                        type: Number,
                        default: 10
                    },
                    propD: { // ??????
                        type: Object,
                        default: function () {
                            return {msg: 'hello'}
                        }
                    },
                    propE: {
                        twoWay: true
                    },
                    propF: {
                        validator: function (value) {
                            return value > 10
                        }
                    }
                },
                template: '<p>propA:{{propA}}</p>' +
                '<p>propB:{{propB}}</p>' +
                '<p>propC:{{propC}}</p>' +
                '<p>propD:{{propD.msg | json}}</p>' +
                '<input type="text" v-model="propE"/>' +
                '<p>propF:{{propF}}</p>'
            }
        }
    });
</script>
<!-- ----------------------- example3 /E ------------------------------------------------ -->
<hr>
<!-- ----------------------- example4 /S ------------------------------------------------ -->

<script type="x/template" id="child-template">
    <input type="text" v-model="msg"/>
    <button @click="notify">Dispatch Event</button>
</script>
<div id="events-example">
    <p>Messages: {{messages | json}}</p>
    <child></child>
</div>
<script type="text/javascript">
    Vue.component('child', {
        template: '#child-template', // el xxxxxxx !!!!
        data: function () {
            return {msg: 'hello!'}
        },
        methods: {
            notify: function () {
                if (this.msg.trim()) {
                    this.$dispatch('child-msg', this.msg);
                    this.msg = '';
                }
            }
        }
    });

    var parent = new Vue({
        el: '#events-example',
        data: {
            messages: []
        },
        events: {
            'child-msg': function (msg) {
                this.messages.push(msg);
            }
        }
    })
</script>
<!-- ----------------------- example4 /E ------------------------------------------------ -->
</body>
</html>