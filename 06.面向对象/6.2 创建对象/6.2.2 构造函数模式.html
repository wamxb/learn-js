<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8"/>
    <title>6.2.2 构造函数模式</title>
</head>
<body>
<script type="text/javascript">
    // 没显式地创建对象
    // 直接将属性和方法赋给了this对象
    // 没有return语句

    // 要创建Person的新实例，必须使用new操作符
    // （1）创建一个新对象
    // （2）将构造函数的作用域赋给新对象（this就指向了新对象）
    // （3）执行构造函数中的代码（为这个对象添加属性）
    // （4）返回新对象
    function Person(name, age, job) {
        this.name = name;
        this.age = age;
        this.job = job;
        this.sayName = sayName;
    }

    function sayName() {
        console.log(this.name);
    }
    var person1 = new Person('Nicholas', 29, 'software Engineer');
    var person2 = new Person('Greg', 27, 'Doctor');

    // 构造函数作为普通函数调用
    Person("Greg", 27, "Doctor");   // 添加到window
    window.sayName();

    // 2.构造函数的问题
    // 每个方法都要在每个实例上重新创建一遍
    function Person2(name, age, job) {
        this.name = name;
        this.age = age;
        this.job = job;
        this.sayName = new Function('console.log(this.name);'); // 与声明函数在逻辑上是等价的
    }


</script>
</body>
</html>