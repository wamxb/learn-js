<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="utf-8">
  <title>图片列表：鼠标移入/移出改变图片透明度</title>
  <style>
  ul,
  li {
    margin: 0;
    padding: 0;
    list-style-type: none;
  }

  .imglist {
    width: 304px;
    overflow: hidden;
    zoom: 1;
    border: 1px solid #333;
    margin: 0 auto;
    padding: 0 0 10px 10px;
  }

  .imglist li {
    float: left;
    width: 64px;
    height: 64px;
    border: 1px solid #ccc;
    margin: 10px 10px 0 0;
  }

  .imglist li img {
    float: left;
    width: 100%;
    height: auto;
    opacity: 0.3;
    cursor: crosshair;
    filter: alpha(opacity=30);
  }

  .imglist li.active img,
  .imglist img.active {
    opacity: 1;
    filter: alpha(opacity=100);
  }
  </style>
  <script src="utils.js"></script>
</head>

<body>
  <ul id="imgList" class="imglist tes1 tst2">
    <li><img src="http://www.fgm.cc/learn/lesson2/img/1.jpg" alt=""></li>
    <li><img src="http://www.fgm.cc/learn/lesson2/img/2.jpg" alt=""></li>
    <li><img src="http://www.fgm.cc/learn/lesson2/img/3.jpg" alt=""></li>
    <li><img src="http://www.fgm.cc/learn/lesson2/img/4.jpg" alt=""></li>
    <li><img src="http://www.fgm.cc/learn/lesson2/img/5.jpg" alt=""></li>
    <li><img src="http://www.fgm.cc/learn/lesson2/img/6.jpg" alt=""></li>
    <li><img src="http://www.fgm.cc/learn/lesson2/img/7.jpg" alt=""></li>
    <li><img src="http://www.fgm.cc/learn/lesson2/img/8.jpg" alt=""></li>
  </ul>
  <script>
  var imgList = $('#imgList');
  var lis = $$('li', imgList);
  // lis.forEach(function(li) {
  //   Event.bind(li, 'mouseover', function(event) {
  //     var event = event || window.event;
  //     var target = event.target || event.srcElement;
  //     console.log(target.tagName.toLowerCase());
  //     this.className = 'active';
  //   });
  //   Event.bind(li, 'mouseout', function(event) {
  //     this.className = '';
  //   });
  // });

  Event.bind(imgList, 'mouseover', function(event) {
    var event = event || window.event;
    var target = event.target || event.srcElement;
    // console.log('mouseover', target.tagName.toLowerCase());
    var tagName = target.tagName.toLowerCase();
    if (tagName=='ul') return;
    classfn.add(target, 'active');
  });
  Event.bind(imgList, 'mouseout', function(event) {
    var event = event || window.event;
    var target = event.target || event.srcElement;
    // console.log('mouseout', target.tagName.toLowerCase());
    var tagName = target.tagName.toLowerCase();
    if (tagName=='ul') return;
    classfn.remove(target, 'active');
  });
  </script>
</body>

</html>
