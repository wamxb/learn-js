<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8"/>
    <title>5.2.6操作方法</title>
</head>
<body>
<script type="text/javascript">
    (function(){
        // concat()方法可以基于当前数组中的所有项创建一个新数组
        // 先创建当前数组一个副本，然后将接收到的参数添加的这个副本的末尾
        // 【！】concat()没传参，相当于clone
        var colors = ['red', 'green', 'blue'];
        var colors2 = colors.concat('yellow', ['black', 'brown']);

        console.log(colors2); // ["red", "green", "blue", "yellow", "black", "brown"]
        console.log(colors); // ["red", "green", "blue"]
        console.log('=======================');
    }());

    // *test* clone()
    (function(){
        var colors = ['red', 'green', 'blue'];
        var arr = colors.concat();
        var result = arr.splice(1, 1);
        console.log(colors, arr, result);
        console.log('test end ========================');
        // ["red", "green", "blue"] ["red", "blue"] ["green"]
    }());
    
    (function() {
        // slice()方法可以接受一或两个参数，
        // 返回项的起始和结束位置，不包括结束位置的项
        // 【！】不影响原始数组
        // 结束位置<起始位置，返回空数组
        // 负数用 length+(-num)，比如包含5项的数组，slice(-2, -1) = slice(3, 4)

        var colors = ['red', 'green', 'blue', 'yellow', 'purple'];
        var colors2 = colors.slice(1); // g,b,y,p
        var colors3 = colors.slice(1, 4); // g,b,y
        var colors4 = colors.slice(-2, -1); // y
        var colors5 = colors.slice(3, 4); // y
        var colors6 = colors.slice(3, 2); // []
        console.log(colors2, colors3, colors4, colors5, colors6);
        console.log('=======================');
    }());

    (function(){
        // splice()
        // 删除: splice(要删除的第一项位置, 要删除的项数)
        // 插入: splice(起始位置, 0(要删除的项数), 要插入的项)
        // 替换：splice(起始位置, 要删除的项数, 要插入任意数量的项)
        
        var colors = ['red', 'green', 'blue'];
        var removed = colors.splice(0, 1); // 删除
        console.log(colors); // g,b
        console.log(removed); // r

        removed = colors.splice(1, 0, 'yellow', 'orange'); // 插入
        console.log(colors);    // g,y,o,b
        console.log(removed); // []

        removed = colors.splice(1, 1, 'red', 'purple');
        console.log(colors); // g,r,p,o,b
        console.log(removed); // y
    }());
</script>
</body>
</html>