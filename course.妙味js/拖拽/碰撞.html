<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8"/>
    <meta name="viewport"
          content="width=device-width, initial-scale=1, minimum-scale=1, maximum-scale=1, user-scalable=no"/>
    <title>碰撞</title>
    <style type="text/css">
        #div1 { width: 100px; height: 100px; background-color: red; position: absolute; }
    </style>
</head>
<body>
<div id="div1"></div>
<script type="text/javascript">
    var oDiv = document.getElementById('div1');

    startMove();

    var iSpeedX = 10;
    var iSpeedY = 10;

    function startMove() {

        setInterval(function () {
            var L = oDiv.offsetLeft + iSpeedX;
            var T = oDiv.offsetTop + iSpeedY;
            if (T > document.documentElement.clientHeight - oDiv.offsetHeight) {
                T = document.documentElement.clientHeight - oDiv.offsetHeight;
                iSpeedY *= -1;
            } else if (T < 0) {
                T = 0;
                iSpeedY *= -1;
            }
            if (L > document.documentElement.clientWidth - oDiv.offsetWidth) {
                L = document.documentElement.clientWidth - oDiv.offsetWidth;
                iSpeedX *= -1;
            } else if (L < 0) {
                L = 0;
                iSpeedX *= -1;
            }
            oDiv.style.left = L + 'px';
            oDiv.style.top = T + 'px';
        }, 30);

    }
</script>
</body>
</html>