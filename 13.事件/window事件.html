<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
    <style type="text/css">
        .msg { display: none; }
    </style>
</head>
<body>
<div class="msg" id="jWindowBlur">window blur</div>
<div class="msg" id="jWindowFocus">window focus</div>
<script type="text/javascript">
    +(function () {
        window.onblur = function () {
            document.getElementById('jWindowBlur').style.display = 'block';
            document.getElementById('jWindowFocus').style.display = 'none';
        };
        window.onfocus = function () {
            document.getElementById('jWindowBlur').style.display = 'none';
            document.getElementById('jWindowFocus').style.display = 'block';
        };
    })();

    // addEventListener(要注册处理程序的事件类型, 指定类型发生时应该调用的函数,一般为false);
    console.info('事件取消');

    function cancelHandler(event) {
        var event = event || window.event;

        if (event.preventDefault) event.preventDefault(); // 标准技术
        if (event.returnValue) event.returnValue = false;   // IE
        return false;   // 用于处理使用对象属性注册 (window.onload 这类)
    }

    // 调用stopPropagation()之后任何其他对象的事件处理程序将不会被调用

    var whenReady = (function () {
        var fns = [];
        var isReady = false;

        function handler(e) {
            if (isReady) return;

            if (e.type == 'readystatechange' && document.readyState !== 'complete') return;

            for (var i = 0; i < fns.length; i++) {
                fns[i].call(document);
            }

            isReady = true;
            fns = null;
        }

        if (document.addEventListener) {
            document.addEventListener('DOMContentLoaded', handler, false);
            document.addEventListener('readystatechange', handler, false);
            document.addEventListener('load', handler, false);
        } else if (document.attachEvent) {
            document.attachEvent('onreadystatechange', handler);
            document.attachEvent('onload', handler);
        }

        return function whenReady(f) {
            if (isReady) {
                f.call(document);
            } else {
                fns.push(f);    // 否则，加入队列等候
            }
        };

    }());

    // click, contextmenu, dbclick
    // mousedown 按下
    // mouseup 释放
    // mousemove 移动
    // mouseover 进入
    // mouseout 离开

    /**
     * 查询窗口滚动条的位置
     * @param w
     * @returns {*}
     */
    function getScrollOffset(w) {
        w = w || window;

        // 除了IE8及更早的版本以外，其他浏览器都能用
        if (w.pageXOffset != null) return {x: w.pageXOffset, y: w.pageYOffset};

        // 标准模式下的IE(或任何浏览器)
        var d = w.document;
        if (d.compatMode == 'CSS1Compat') {
            return {x: d.documentElement.scrollLeft, y: d.documentElement.scrollTop};
        }

        // 怪异模式
        return {x: d.body.scrollLeft, y: d.body.scrollTop};
    }

    /**
     * Drag.js 拖动绝对定位的HTML元素
     * @param elementToDrag
     * @param event
     */
    function drag(elementToDrag, event) {

    }

</script>
</body>
</html>